<%- include('../partials/header') %>

<!-- Main Content -->
<main class="page-content">
  <!-- Hero Section -->
  <section style="text-align: center; margin-top: 30px;">
    <h1 style="font-size: 2.5rem; font-weight: 700;">Welcome to Your Digital Growth Partner</h1>
    <p style="max-width: 800px; margin: 20px auto; font-size: 1.1rem; color: #555;">
      We are a multifunctional platform dedicated to empowering individuals and businesses in the digital world.
      From helping you kickstart your freelance journey to offering essential online services — we’re here to support your growth, every step of the way.
      Stay tuned as we continue to expand our services to meet your evolving needs.
    </p>
  </section>

  <!-- Services Offered -->
  <section style="margin-top: 50px; padding: 0 15px;">
    <h2 style="text-align: center;">Our Current Services</h2>
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin-top: 30px;">
      <div style="flex: 1 1 250px; max-width: 300px; background: var(--card-bg); padding: 20px; border-radius: 12px; box-shadow: var(--shadow);">
        <h3 style="margin-bottom: 10px;">Business Development Help</h3>
        <p style="color: #666;">Get guidance on launching, structuring, and scaling your freelance or digital services business with expert support.</p>
      </div>

      <div style="flex: 1 1 250px; max-width: 300px; background: var(--card-bg); padding: 20px; border-radius: 12px; box-shadow: var(--shadow);">
        <h3 style="margin-bottom: 10px;">Freelancing Support</h3>
        <p style="color: #666;">Learn how to find clients, create portfolios, and manage freelancing work effectively in today’s competitive market.</p>
      </div>

      <div style="flex: 1 1 250px; max-width: 300px; background: var(--card-bg); padding: 20px; border-radius: 12px; box-shadow: var(--shadow);">
        <h3 style="margin-bottom: 10px;">Online Services</h3>
        <p style="color: #666;">We provide a growing range of digital services including design, development, consulting, and much more — updated regularly.</p>
      </div>
    </div>
  </section>

  <!-- Ratings Chart -->
  <div class="container" style="margin-top: 60px; text-align: center;">
    <h2>User Ratings</h2>
    <div style="width: 100%; max-width: 350px; margin: auto;">
      <canvas id="homepageRatingsChart"></canvas>
    </div>
  </div>

  <!-- Social Media Section -->
  <% if (typeof socialLinks !== 'undefined' && socialLinks.length > 0) { %>
    <div class="container" style="margin-top: 50px; text-align: center;">
      <h2>Follow Us</h2>
      <div class="social-links">
        <% socialLinks.forEach(link => { %>
          <a href="<%= link.link_url %>" target="_blank" rel="noopener noreferrer" title="<%= link.platform_name %>">
            <i data-lucide="<%= link.platform_key %>"></i>
          </a>
        <% }) %>
      </div>
    </div>
  <% } %>
</main>

<!-- Chart.js & Lucide Icons CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Ratings Chart Script -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    lucide.createIcons();

    const ctx = document.getElementById('homepageRatingsChart');
    const chartData = <%- chartData || '{}' %>;

    if (ctx && chartData && chartData.data && chartData.data.length > 0) {
      new Chart(ctx.getContext('2d'), {
        type: 'pie',
        data: {
          labels: chartData.labels,
          datasets: [{
            data: chartData.data,
            backgroundColor: [
              'rgba(255, 206, 86, 0.8)',
              'rgba(75, 192, 192, 0.8)',
              'rgba(255, 99, 132, 0.8)',
              'rgba(54, 162, 235, 0.8)',
              'rgba(153, 102, 255, 0.8)'
            ],
            borderColor: '#fff'
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            }
          }
        }
      });
    }

    // Sidebar toggle
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('left-sidebar');
    const sidebarClose = document.getElementById('sidebar-close');

    if (menuToggle && sidebar) {
      menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
      });
    }

    if (sidebarClose && sidebar) {
      sidebarClose.addEventListener('click', () => {
        sidebar.classList.add('collapsed');
      });
    }
  });
</script>

<%- include('../partials/footer') %>