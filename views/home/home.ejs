<%- include('../partials/header') %>

<!-- Link to the new home page stylesheet -->
<link rel="stylesheet" href="/css/home-style.css">

<!-- Main Content -->
<main class="page-content">
  
  <!-- Hero Section -->
  <section class="home-hero">
    <h1>Your Digital Growth Partner</h1>
    <p>
      We are a multifunctional platform dedicated to empowering individuals and businesses in the digital world. From kickstarting your freelance journey to offering essential online services — we’re here to support your growth, every step of the way.
    </p>
    <a href="/signup" class="get-started-btn">Get Started</a>
  </section>

  <!-- Services Offered -->
  <section class="services-section">
    <h2>Our Current Services</h2>
    <div class="services-grid">
      <div class="service-card">
        <h3>Business Development</h3>
        <p>Get guidance on launching, structuring, and scaling your freelance or digital services business with expert support.</p>
      </div>

      <div class="service-card">
        <h3>Freelancing Support</h3>
        <p>Learn how to find clients, create portfolios, and manage your work effectively in today’s competitive market.</p>
      </div>

      <div class="service-card">
        <h3>Online Services</h3>
        <p>We provide a growing range of digital services including design, development, and consulting — updated regularly.</p>
      </div>
    </div>
  </section>

  <!-- Ratings Chart -->
  <div class="container" style="margin-top: 60px; text-align: center;">
    <h2>User Ratings</h2>
    <div style="width: 100%; max-width: 350px; margin: auto;">
      <canvas id="homepageRatingsChart"></canvas>
    </div>
  </div>

  <!-- Social Media Section -->
  <% if (typeof socialLinks !== 'undefined' && socialLinks.length > 0) { %>
    <div class="container" style="margin-top: 50px; text-align: center;">
      <h2>Follow Us</h2>
      <div class="social-links">
        <% socialLinks.forEach(link => { %>
          <a href="<%= link.link_url %>" target="_blank" rel="noopener noreferrer" title="<%= link.platform_name %>">
            <% if (link.platform_key === 'whatsapp-svg') { %>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="social-icon-svg" fill="currentColor" width="32px" height="32px"><path d="M16.6,14.2l-1.5-0.8c-0.4-0.2-0.7-0.3-1,0.1l-0.7,0.8c-0.2,0.3-0.5,0.3-0.8,0.2c-0.7-0.3-1.8-1-2.9-2.1c-0.8-0.8-1.4-1.6-1.8-2.5c-0.1-0.3,0-0.6,0.2-0.8l0.7-0.8c0.3-0.3,0.2-0.7,0-1l-0.8-1.5c-0.2-0.4-0.5-0.5-0.9-0.5h-0.8c-0.4,0-0.8,0.2-1,0.5C5.1,5.3,5,6,5.1,6.6c0.3,1.9,1.2,3.7,2.6,5.1c1.8,1.8,3.9,2.9,6.2,3.3c0.6,0.1,1.2,0,1.7-0.5c0.3-0.3,0.5-0.7,0.5-1.1v-0.8C17.1,14.7,16.9,14.4,16.6,14.2z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20.5c-4.7,0-8.5-3.8-8.5-8.5S7.3,3.5,12,3.5s8.5,3.8,8.5,8.5S16.7,20.5,12,20.5z"/></svg>
            <% } else { %>
              <i data-lucide="<%= link.platform_key %>"></i>
            <% } %>
          </a>
        <% }) %>
      </div>
    </div>
  <% } %>
</main>

<!-- Chart.js & Lucide Icons CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Ratings Chart Script -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    lucide.createIcons();

    const ctx = document.getElementById('homepageRatingsChart');
    const chartData = <%- chartData || '{}' %>;

    if (ctx && chartData && chartData.data && chartData.data.length > 0) {
      new Chart(ctx.getContext('2d'), {
        type: 'pie',
        data: {
          labels: chartData.labels,
          datasets: [{
            data: chartData.data,
            backgroundColor: [
              'rgba(255, 206, 86, 0.8)',
              'rgba(75, 192, 192, 0.8)',
              'rgba(255, 99, 132, 0.8)',
              'rgba(54, 162, 235, 0.8)',
              'rgba(153, 102, 255, 0.8)'
            ],
            borderColor: '#fff'
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            }
          }
        }
      });
    }
  });
</script>

<%- include('../partials/footer') %>
